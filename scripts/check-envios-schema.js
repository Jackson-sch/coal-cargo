const { PrismaClient } = require('../src/generated/prisma/client'); const prisma = new PrismaClient(); async function checkEnviosSchema() { try { console.log("üîç Verificando esquema de la tabla envios..."); // Intentar obtener informaci√≥n de la tabla const result = await prisma.$queryRaw` SELECT column_name, data_type, is_nullable FROM information_schema.columns WHERE table_name = 'envios' ORDER BY ordinal_position; `; console.log("üìã Columnas existentes en la tabla envios:"); console.table(result); // Verificar si existen campos espec√≠ficos const fieldsToCheck = [ "sucursalOrigenId", "sucursalDestinoId", "destinatarioNombre", "destinatarioTelefono", "remitenteNombre", "peso", "total", "progreso", "existe", // El campo que est√° causando problemas ]; console.log("\nüîç Verificando campos espec√≠ficos:"); fieldsToCheck.forEach((field) => { const exists = result.some((col) => col.column_name === field); console.log( `${exists ? "‚úÖ" : "‚ùå"} ${field}: ${exists ? "EXISTE" : "NO EXISTE"}` ); }); } catch (error) { console.error("‚ùå Error verificando esquema:", error.message); } finally { await prisma.$disconnect(); }
} checkEnviosSchema();
